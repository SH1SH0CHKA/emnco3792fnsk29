<div class="content p-5">
  <div id="update-notify" class="rounded-lg hidden">
    <img src="assets/backgrounds/update_bg.png" />
    <div class="flex items-center justify-center w-full ml-5">
      <span class="material-symbols-rounded text-white">update</span>
      <p class="ml-3 text-xl text-white grow">Доступно новое обновление!</p>
      <button
        type="button"
        onclick="FrogBackendCommunicator.installUpdate()"
        class="text-black bg-white hover:bg-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 focus:outline-none install-btn hidden"
      >
        Установить
      </button>
      <button
        type="button"
        onclick="$('#update-notify').addClass('hidden')"
        class="text-black bg-white hover:bg-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 focus:outline-none ml-3 nt-btn hidden"
      >
        Нет, спасибо
      </button>
    </div>
  </div>

  <div class="flex flex-col w-full h-full my-3">
    <div
      class="news-item w-full my-3 flex items-center"
      style="height: max-content; max-width: 100vw"
    >
      <img src="assets/icon-foreground.png" class="jabb" style="height: 56px" />
      <div class="flex flex-col justify-center ml-3">
        <div
          class="news-caption mc-text"
          style="font-weight: 500; margin-bottom: 4px"
        >
          FrogLauncher
        </div>
        <div class="news-description">
          Добро пожаловать в наш лаунчер! Если увидишь какие-то ошибки, то
          пожалуйста
          <a
            class="font-medium text-blue-600 dark:text-blue-500 hover:underline cursor-pointer"
            onclick='openExternal("https://discord.gg/4sMC3yF")'
            >напиши нам!</a
          >
        </div>
      </div>
    </div>
    <div class="flex flex-col mt-2">
      <p class="text-white font-semibold text-3xl">Новости</p>
      <div class="grid grid-cols-3 gap-4 mt-2" id="news-place"></div>
    </div>
  </div>
</div>

<style>
  #update-notify {
    width: 100%;
    height: 128px;
    background: linear-gradient(to right, #cc2b5e, #753a88);
    box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;
    padding: 16px;
  }

  #update-notify img {
    height: 210px;
    bottom: 99px;
    position: relative;
    filter: saturate(160%) brightness(80%);
    transform: rotate(-1deg);
  }

  #update-notify .material-symbols-rounded {
    font-size: 32pt;
  }

  #update-notify .flex {
    position: relative;
    bottom: 183px;
    left: 24px;
  }

  #update-notify .flex button {
    position: relative;
    right: 48px;
  }

  .content {
    margin-top: 44px;
  }

  .news-item {
    border: 1px solid rgba(100, 100, 111, 0.2);
    background: var(--bg-primary-transparent);
    backdrop-filter: blur(16px) brightness(98%) saturate(110%) contrast(110%);
    max-width: 30vw;
    height: 100%;
    border-radius: 16px;
    padding: 16px;
  }

  .news-item .news-caption {
    font-weight: 700;
    font-size: 14pt;
    color: white;
    margin-bottom: 8px;
  }

  .news-item .news-description {
    font-weight: 500;
    font-size: 11pt;
    color: rgb(210, 210, 210);
  }
</style>

<script>
  // Handling updates
  ipcRenderer.once("update-available", () => {
    $("#update-notify").removeClass("hidden");
    $("#update-notify p.grow").text("Скачиваем новое обновление...");
  });
  ipcRenderer.once("update-downloaded", () => {
    $("#update-notify p.grow").text("Обновление готово к установке!");
    $("#update-notify .install-btn").removeClass("hidden");
    $("#update-notify .nt-btn").removeClass("hidden");
  });
</script>
